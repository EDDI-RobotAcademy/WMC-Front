{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'SignUpForm',\n  data() {\n    return {\n      email: '',\n      password: '',\n      password_confirm: '',\n      city: '',\n      street: '',\n      addressDetail: '',\n      zipcode: '',\n      emailPass: false,\n      streetPass: false,\n      roles: ['ADMIN', 'SELLER', 'USER'],\n      email_rule: [v => !!v || '이메일을 입력해주세요.', v => {\n        const replaceV = v.replace(/(\\s*)/g, '');\n        const pattern = /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/;\n        return pattern.test(replaceV) || '이메일 형식을 입력하세요.';\n      }],\n      password_rule: [v => this.state === 'ins' ? !!v || '패스워드는 필수 입력사항입니다.' : true, v => !(v && v.length >= 30) || '패스워드는 30자 이상 입력할 수 없습니다.'],\n      password_confirm_rule: [v => this.state === 'ins' ? !!v || '패스워드는 필수 입력사항입니다.' : true, v => !(v && v.length >= 30) || '패스워드는 30자 이상 입력할 수 없습니다.', v => v === this.password || '패스워드가 일치하지 않습니다.']\n    };\n  },\n  methods: {\n    onSubmit() {\n      if (this.$refs.form.validate()) {\n        const {\n          email,\n          password,\n          city,\n          street,\n          addressDetail,\n          zipcode,\n          role\n        } = this;\n        this.$emit('submit', {\n          email,\n          password,\n          city,\n          street,\n          addressDetail,\n          zipcode,\n          role\n        });\n      } else {\n        alert('올바른 정보를 입력하세요!');\n      }\n    },\n    emailValidation() {\n      const emailValid = this.email.match(/^(([^<>()[\\]\\\\.,;:\\s@]+(\\.[^<>()[\\]\\\\.,;:\\s@]+)*)|(.+))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\n      if (emailValid) {\n        this.emailPass = true;\n      }\n    },\n    checkDuplicateEmail() {\n      const emailValid = this.email.match(/^(([^<>()[\\]\\\\.,;:\\s@]+(\\.[^<>()[\\]\\\\.,;:\\s@]+)*)|(.+))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\n      if (emailValid) {\n        const {\n          email\n        } = this;\n        axios.post(`http://localhost:7777/member/check-email/${email}`).then(res => {\n          if (res.data) {\n            alert('사용 가능한 이메일입니다!');\n            this.emailPass = true;\n          } else {\n            alert('중복된 이메일입니다!');\n            this.emailPass = false;\n          }\n        });\n      }\n    },\n    callDaumAddressApi() {\n      new window.daum.Postcode({\n        oncomplete: data => {\n          let fullRoadAddr = data.roadAddress;\n          let extraRoadAddr = '';\n          if (data.bname !== '' && /[동|로|가]$/g.test(data.bname)) {\n            extraRoadAddr += data.bname;\n          }\n          if (data.buildingName !== '' && data.apartment === 'Y') {\n            extraRoadAddr += extraRoadAddr !== '' ? ', ' + data.buildingName : data.buildingName;\n          }\n          if (extraRoadAddr !== '') {\n            extraRoadAddr = ' (' + extraRoadAddr + ')';\n          }\n          if (fullRoadAddr !== '') {\n            fullRoadAddr += extraRoadAddr;\n          }\n          this.city = data.sido;\n          this.zipcode = data.zonecode;\n          this.street = data.sigungu + ' ' + fullRoadAddr;\n          this.streetPass = true;\n        }\n      }).open();\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","email","password","password_confirm","city","street","addressDetail","zipcode","emailPass","streetPass","roles","email_rule","v","replaceV","replace","pattern","test","password_rule","state","length","password_confirm_rule","methods","onSubmit","$refs","form","validate","role","$emit","alert","emailValidation","emailValid","match","checkDuplicateEmail","post","then","res","callDaumAddressApi","window","daum","Postcode","oncomplete","fullRoadAddr","roadAddress","extraRoadAddr","bname","buildingName","apartment","sido","zonecode","sigungu","open"],"sources":["src/components/account/SignUpForm.vue"],"sourcesContent":["<template>\n  <div class=\"grey lighten-5\" style=\"font-family: Arial\">\n    <v-row justify=\"center\">\n      <v-col cols=\"auto\" style=\"padding-bottom: 90px\">\n        <router-link to=\"/\">\n          <v-img\n            :src=\"require('@/assets/logo.png')\"\n            width=\"120\"\n            class=\"mx-auto mb-6\"\n          />\n        </router-link>\n        <v-card width=\"460\">\n          <v-card-text class=\"text-center px-12 py-16\">\n            <v-form @submit.prevent=\"onSubmit\" ref=\"form\">\n              <div class=\"text-h4 font-weight-black mb-10\">회원 가입</div>\n\n              <div class=\"d-flex\">\n                <v-text-field\n                  v-model=\"email\"\n                  label=\"이메일\"\n                  @change=\"emailValidation\"\n                  :rules=\"email_rule\"\n                  :disabled=\"false\"\n                  required\n                />\n                <v-btn\n                  text\n                  large\n                  outlined\n                  style=\"font-size: 13px\"\n                  class=\"mt-3 ml-5\"\n                  color=\"teal lighten-1\"\n                  @click=\"checkDuplicateEmail\"\n                  :disabled=\"!emailPass\"\n                >\n                  이메일 <br />중복 확인\n                </v-btn>\n              </div>\n\n              <div class=\"d-flex\">\n                <v-text-field\n                  v-model=\"password\"\n                  label=\"비밀번호\"\n                  type=\"password\"\n                  :rules=\"password_rule\"\n                  :disabled=\"false\"\n                  required\n                />\n              </div>\n\n              <div class=\"d-flex\">\n                <v-text-field\n                  v-model=\"password_confirm\"\n                  label=\"비밀번호 확인\"\n                  type=\"password\"\n                  :rules=\"password_confirm_rule\"\n                  :disabled=\"false\"\n                  required\n                />\n              </div>\n\n              <div class=\"d-flex\">\n                <v-text-field\n                  v-model=\"city\"\n                  label=\"도시\"\n                  :disabled=\"true\"\n                  required\n                />\n              </div>\n\n              <div class=\"d-flex\">\n                <v-text-field\n                  v-model=\"street\"\n                  label=\"기본 주소\"\n                  :disabled=\"true\"\n                  required\n                />\n              </div>\n\n              <div class=\"d-flex\">\n                <v-text-field\n                  v-model=\"addressDetail\"\n                  label=\"상세 주소\"\n                  :disabled=\"false\"\n                  required\n                />\n              </div>\n\n              <div class=\"d-flex\">\n                <v-text-field\n                  v-model=\"zipcode\"\n                  label=\"우편번호\"\n                  :disabled=\"true\"\n                  required\n                />\n\n                <v-btn\n                  text\n                  large\n                  outlined\n                  style=\"font-size: 13px\"\n                  class=\"mt-3 ml-5\"\n                  color=\"blue lighten-1\"\n                  @click=\"callDaumAddressApi\"\n                  :disabled=\"false\"\n                >\n                  주소 확인\n                </v-btn>\n              </div>\n\n              <v-select\n                v-model=\"role\"\n                :items=\"roles\"\n                label=\"Role\"\n                required\n              ></v-select>\n\n              <v-btn\n                type=\"submit\"\n                block\n                x-large\n                rounded\n                class=\"mt-6\"\n                color=\"purple lighten-1\"\n                :disabled=\"(emailPass & streetPass) == false\"\n              >\n                가입하기\n              </v-btn>\n            </v-form>\n          </v-card-text>\n        </v-card>\n      </v-col>\n    </v-row>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'SignUpForm',\n  data() {\n    return {\n      email: '',\n      password: '',\n      password_confirm: '',\n\n      city: '',\n      street: '',\n      addressDetail: '',\n      zipcode: '',\n\n      emailPass: false,\n      streetPass: false,\n\n      roles: ['ADMIN','SELLER','USER'],\n\n      email_rule: [\n        (v) => !!v || '이메일을 입력해주세요.',\n        (v) => {\n          const replaceV = v.replace(/(\\s*)/g, '');\n          const pattern =\n            /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/;\n          return pattern.test(replaceV) || '이메일 형식을 입력하세요.';\n        },\n      ],\n      password_rule: [\n        (v) =>\n          this.state === 'ins'\n            ? !!v || '패스워드는 필수 입력사항입니다.'\n            : true,\n        (v) =>\n          !(v && v.length >= 30) || '패스워드는 30자 이상 입력할 수 없습니다.',\n      ],\n      password_confirm_rule: [\n        (v) =>\n          this.state === 'ins'\n            ? !!v || '패스워드는 필수 입력사항입니다.'\n            : true,\n        (v) =>\n          !(v && v.length >= 30) || '패스워드는 30자 이상 입력할 수 없습니다.',\n        (v) => v === this.password || '패스워드가 일치하지 않습니다.',\n      ],\n    };\n  },\n  methods: {\n    onSubmit() {\n      if (this.$refs.form.validate()) {\n        const { email, password, city, street, addressDetail, zipcode, role } = this;\n        this.$emit('submit', {\n          email,\n          password,\n          city,\n          street,\n          addressDetail,\n          zipcode,\n          role,\n        });\n      } else {\n        alert('올바른 정보를 입력하세요!');\n      }\n    },\n    emailValidation() {\n      const emailValid = this.email.match(\n        /^(([^<>()[\\]\\\\.,;:\\s@]+(\\.[^<>()[\\]\\\\.,;:\\s@]+)*)|(.+))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n      );\n\n      if (emailValid) {\n        this.emailPass = true;\n      }\n    },\n    checkDuplicateEmail() {\n      const emailValid = this.email.match(\n        /^(([^<>()[\\]\\\\.,;:\\s@]+(\\.[^<>()[\\]\\\\.,;:\\s@]+)*)|(.+))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n      );\n\n      if (emailValid) {\n        const { email } = this;\n        axios\n          .post(`http://localhost:7777/member/check-email/${email}`)\n          .then((res) => {\n            if (res.data) {\n              alert('사용 가능한 이메일입니다!');\n              this.emailPass = true;\n            } else {\n              alert('중복된 이메일입니다!');\n              this.emailPass = false;\n            }\n          });\n      }\n    },\n    callDaumAddressApi() {\n      new window.daum.Postcode({\n        oncomplete: (data) => {\n          let fullRoadAddr = data.roadAddress;\n          let extraRoadAddr = '';\n\n          if (data.bname !== '' && /[동|로|가]$/g.test(data.bname)) {\n            extraRoadAddr += data.bname;\n          }\n\n          if (data.buildingName !== '' && data.apartment === 'Y') {\n            extraRoadAddr +=\n              extraRoadAddr !== ''\n                ? ', ' + data.buildingName\n                : data.buildingName;\n          }\n\n          if (extraRoadAddr !== '') {\n            extraRoadAddr = ' (' + extraRoadAddr + ')';\n          }\n\n          if (fullRoadAddr !== '') {\n            fullRoadAddr += extraRoadAddr;\n          }\n\n          this.city = data.sido;\n          this.zipcode = data.zonecode;\n          this.street = data.sigungu + ' ' + fullRoadAddr;\n\n          this.streetPass = true;\n        },\n      }).open();\n    },\n  },\n};\n</script>\n\n<style scoped></style>\n"],"mappings":"AAyIA,OAAAA,KAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,KAAA;MACAC,QAAA;MACAC,gBAAA;MAEAC,IAAA;MACAC,MAAA;MACAC,aAAA;MACAC,OAAA;MAEAC,SAAA;MACAC,UAAA;MAEAC,KAAA;MAEAC,UAAA,GACAC,CAAA,MAAAA,CAAA,oBACAA,CAAA;QACA,MAAAC,QAAA,GAAAD,CAAA,CAAAE,OAAA;QACA,MAAAC,OAAA,GACA;QACA,OAAAA,OAAA,CAAAC,IAAA,CAAAH,QAAA;MACA,EACA;MACAI,aAAA,GACAL,CAAA,IACA,KAAAM,KAAA,aACA,EAAAN,CAAA,0BACA,MACAA,CAAA,IACA,EAAAA,CAAA,IAAAA,CAAA,CAAAO,MAAA,sCACA;MACAC,qBAAA,GACAR,CAAA,IACA,KAAAM,KAAA,aACA,EAAAN,CAAA,0BACA,MACAA,CAAA,IACA,EAAAA,CAAA,IAAAA,CAAA,CAAAO,MAAA,uCACAP,CAAA,IAAAA,CAAA,UAAAV,QAAA;IAEA;EACA;EACAmB,OAAA;IACAC,SAAA;MACA,SAAAC,KAAA,CAAAC,IAAA,CAAAC,QAAA;QACA;UAAAxB,KAAA;UAAAC,QAAA;UAAAE,IAAA;UAAAC,MAAA;UAAAC,aAAA;UAAAC,OAAA;UAAAmB;QAAA;QACA,KAAAC,KAAA;UACA1B,KAAA;UACAC,QAAA;UACAE,IAAA;UACAC,MAAA;UACAC,aAAA;UACAC,OAAA;UACAmB;QACA;MACA;QACAE,KAAA;MACA;IACA;IACAC,gBAAA;MACA,MAAAC,UAAA,QAAA7B,KAAA,CAAA8B,KAAA,CACA,oJACA;MAEA,IAAAD,UAAA;QACA,KAAAtB,SAAA;MACA;IACA;IACAwB,oBAAA;MACA,MAAAF,UAAA,QAAA7B,KAAA,CAAA8B,KAAA,CACA,oJACA;MAEA,IAAAD,UAAA;QACA;UAAA7B;QAAA;QACAH,KAAA,CACAmC,IAAA,6CAAAhC,KAAA,IACAiC,IAAA,CAAAC,GAAA;UACA,IAAAA,GAAA,CAAAnC,IAAA;YACA4B,KAAA;YACA,KAAApB,SAAA;UACA;YACAoB,KAAA;YACA,KAAApB,SAAA;UACA;QACA;MACA;IACA;IACA4B,mBAAA;MACA,IAAAC,MAAA,CAAAC,IAAA,CAAAC,QAAA;QACAC,UAAA,EAAAxC,IAAA;UACA,IAAAyC,YAAA,GAAAzC,IAAA,CAAA0C,WAAA;UACA,IAAAC,aAAA;UAEA,IAAA3C,IAAA,CAAA4C,KAAA,uBAAA5B,IAAA,CAAAhB,IAAA,CAAA4C,KAAA;YACAD,aAAA,IAAA3C,IAAA,CAAA4C,KAAA;UACA;UAEA,IAAA5C,IAAA,CAAA6C,YAAA,WAAA7C,IAAA,CAAA8C,SAAA;YACAH,aAAA,IACAA,aAAA,UACA,OAAA3C,IAAA,CAAA6C,YAAA,GACA7C,IAAA,CAAA6C,YAAA;UACA;UAEA,IAAAF,aAAA;YACAA,aAAA,UAAAA,aAAA;UACA;UAEA,IAAAF,YAAA;YACAA,YAAA,IAAAE,aAAA;UACA;UAEA,KAAAvC,IAAA,GAAAJ,IAAA,CAAA+C,IAAA;UACA,KAAAxC,OAAA,GAAAP,IAAA,CAAAgD,QAAA;UACA,KAAA3C,MAAA,GAAAL,IAAA,CAAAiD,OAAA,SAAAR,YAAA;UAEA,KAAAhC,UAAA;QACA;MACA,GAAAyC,IAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}