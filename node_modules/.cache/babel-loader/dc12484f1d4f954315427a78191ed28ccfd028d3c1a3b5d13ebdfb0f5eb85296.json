{"ast":null,"code":"import { mapState } from 'vuex';\nimport axios from 'axios';\nexport default {\n  name: 'NavigationMenuPage',\n  data() {\n    return {\n      isTrue: false,\n      navigation_drawer: false,\n      links: [{\n        icon: 'mdi-home',\n        text: 'Home',\n        name: 'home',\n        route: '/'\n      }, {\n        icon: 'mdi-share-variant-outline',\n        text: 'Sharing',\n        name: 'JpaBoardListPage',\n        route: '/board-list-page'\n      }]\n    };\n  },\n  computed: {\n    ...mapState(['isAuthenticated'])\n  },\n  mounted() {\n    if (localStorage.getItem('userInfo')) {\n      this.$store.state.isAuthenticated = true;\n    } else {\n      this.$store.state.isAuthenticated = false;\n    }\n  },\n  methods: {\n    clickToggle() {\n      this.isTrue = !this.isTrue;\n    },\n    logout() {\n      console.log('getItem: ' + localStorage.getItem('userInfo'));\n      let token = localStorage.getItem('userInfo');\n      const length = token.length;\n      console.log('token: ' + token + ', length: ' + length);\n      token = token.substr(1, length - 2);\n      console.log('token: ' + token + ', length: ' + token.length);\n      axios.post('http://localhost:7777/member/logout', token).then(() => {\n        alert('로그아웃 완료');\n        localStorage.removeItem('userInfo');\n        this.$store.state.isAuthenticated = false;\n      });\n    },\n    resign() {\n      let token = localStorage.getItem('userInfo');\n      const length = token.length;\n      console.log('token: ' + token + ', length: ' + length);\n      token = token.substr(1, length - 2);\n      console.log('token: ' + token);\n      axios.post('http://localhost:7777/member/resign', token).then(() => {\n        alert('회원탈퇴 완료');\n        localStorage.removeItem('userInfo');\n        this.$store.state.isAuthenticated = false;\n      });\n    }\n  }\n};","map":{"version":3,"names":["mapState","axios","name","data","isTrue","navigation_drawer","links","icon","text","route","computed","mounted","localStorage","getItem","$store","state","isAuthenticated","methods","clickToggle","logout","console","log","token","length","substr","post","then","alert","removeItem","resign"],"sources":["src/components/main/layoutForm/navigation/NavigationMenuPage.vue"],"sourcesContent":["<template>\n  <nav>\n    <v-app-bar color=\"white\" class=\"flex-grow-0\" app>\n      <v-app-bar-nav-icon @click=\"navigation_drawer = !navigation_drawer\" />\n      <router-link to=\"/\">\n        <v-img\n          :src=\"require('@/assets/logo.png')\"\n          max-height=\"40\"\n          max-width=\"40\"\n          class=\"mx2\"\n        />\n      </router-link>\n      <v-toolbar-title class=\"text-uppercase text--darken-4\">\n        <span>WMC</span>\n      </v-toolbar-title>\n\n      <v-spacer class=\"btn-container\" text align=\"center\" fix>\n        <v-btn\n          text\n          color=\"#FF4081\"\n          @mouseover=\"navigation_drop_table = !navigation_drop_table\"\n        >\n          <span>BEST</span>\n          <v-navigation-drawer app v-model=\"navigation_drawer\">\n            <v-list-item>\n              <v-list-item-content>\n                <v-list-item-title class=\"text-h6\">WMC</v-list-item-title>\n                <v-list-item-subtitle>의류</v-list-item-subtitle>\n              </v-list-item-content>\n            </v-list-item>\n            <v-divider></v-divider>\n            <v-list nav dense>\n              <v-list-item\n                v-for=\"link in links\"\n                :key=\"link.name\"\n                router\n                :to=\"link.route\"\n              >\n                <v-list-item-action>\n                  <v-icon left>\n                    {{ link.icon }}\n                  </v-icon>\n                </v-list-item-action>\n                <v-list-item-content>\n                  <v-list-item-title>\n                    {{ link.text }}\n                  </v-list-item-title>\n                </v-list-item-content>\n              </v-list-item>\n            </v-list>\n          </v-navigation-drawer>\n        </v-btn>\n        <v-btn text color=\"#000000\">\n          <span>BEST</span>\n        </v-btn>\n        <v-btn text color=\"#000000\">\n          <span>BEST</span>\n        </v-btn>\n        <v-btn text color=\"#000000\">\n          <span>BEST</span>\n        </v-btn>\n        <v-btn text color=\"#000000\">\n          <span>BEST</span>\n        </v-btn>\n        <v-btn text color=\"#000000\">\n          <span>BEST</span>\n        </v-btn>\n        <v-btn text color=\"#000000\">\n          <span>BEST</span>\n        </v-btn>\n      </v-spacer>\n\n      <v-btn\n        v-if=\"isAuthenticated == false\"\n        text\n        color=\"grey\"\n        onclick=\"location.href='http://localhost:8080/sign-in-test#/sign-in'\"\n      >\n        <span>로그인</span>\n      </v-btn>\n\n      <v-btn large elevation=\"0\" text @click=\"btnSearch\">\n                <v-icon> mdi-magnify</v-icon>\n              </v-btn>\n      <v-btn\n        v-else-if=\"isAuthenticated == true\"\n        text\n        color=\"grey\"\n        v-on:click=\"logout\"\n        onclick=\"location.href='http://localhost:8080/#/'\"\n      >\n        <span>로그아웃</span>\n      </v-btn>\n\n      <v-btn\n        v-if=\"isAuthenticated == false\"\n        text\n        color=\"grey\"\n        onclick=\"location.href='http://localhost:8080/sign-up-test#/sign-up'\"\n      >\n        <span>회원가입</span>\n      </v-btn>\n      <v-btn\n        v-if=\"isAuthenticated == true\"\n        text\n        color=\"grey\"\n        onclick=\"location.href='http://localhost:8080/my-page#/'\"\n      >\n        <span>마이페이지</span>\n      </v-btn>\n      <!-- <v-btn v-if=\"isAuthenticated == false\" text color=\"grey\" v-on:click=\"resign\">\n          <span>회원 탈퇴</span>\n        </v-btn> -->\n    </v-app-bar>\n\n    <v-navigation-drawer app v-model=\"navigation_drawer\">\n      <v-list-item>\n        <v-list-item-content>\n          <v-list-item-title class=\"text-h6\">WMC</v-list-item-title>\n          <v-list-item-subtitle>의류</v-list-item-subtitle>\n        </v-list-item-content>\n      </v-list-item>\n      <v-divider></v-divider>\n      <v-list nav dense>\n        <v-list-item\n          v-for=\"link in links\"\n          :key=\"link.name\"\n          router\n          :to=\"link.route\"\n        >\n          <v-list-item-action>\n            <v-icon left>\n              {{ link.icon }}\n            </v-icon>\n          </v-list-item-action>\n          <v-list-item-content>\n            <v-list-item-title>\n              {{ link.text }}\n            </v-list-item-title>\n          </v-list-item-content>\n        </v-list-item>\n      </v-list>\n    </v-navigation-drawer>\n  </nav>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport axios from 'axios';\nexport default {\n  name: 'NavigationMenuPage',\n  data() {\n    return {\n      isTrue: false,\n      navigation_drawer: false,\n      links: [\n        { icon: 'mdi-home', text: 'Home', name: 'home', route: '/' },\n        {\n          icon: 'mdi-share-variant-outline',\n          text: 'Sharing',\n          name: 'JpaBoardListPage',\n          route: '/board-list-page',\n        },\n      ],\n    };\n  },\n  computed: {\n    ...mapState(['isAuthenticated']),\n  },\n  mounted() {\n    if (localStorage.getItem('userInfo')) {\n      this.$store.state.isAuthenticated = true;\n    } else {\n      this.$store.state.isAuthenticated = false;\n    }\n  },\n  methods: {\n    clickToggle() {\n      this.isTrue = !this.isTrue;\n    },\n    logout() {\n      console.log('getItem: ' + localStorage.getItem('userInfo'));\n      let token = localStorage.getItem('userInfo');\n      const length = token.length;\n      console.log('token: ' + token + ', length: ' + length);\n      token = token.substr(1, length - 2);\n      console.log('token: ' + token + ', length: ' + token.length);\n      axios.post('http://localhost:7777/member/logout', token).then(() => {\n        alert('로그아웃 완료');\n        localStorage.removeItem('userInfo');\n        this.$store.state.isAuthenticated = false;\n      });\n    },\n    resign() {\n      let token = localStorage.getItem('userInfo');\n      const length = token.length;\n      console.log('token: ' + token + ', length: ' + length);\n      token = token.substr(1, length - 2);\n      console.log('token: ' + token);\n      axios.post('http://localhost:7777/member/resign', token).then(() => {\n        alert('회원탈퇴 완료');\n        localStorage.removeItem('userInfo');\n        this.$store.state.isAuthenticated = false;\n      });\n    },\n  },\n};\n</script>\n\n<style>\n.btn-container {\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: center;\n  align-items: center;\n}\n</style>\n"],"mappings":"AAmJA,SAAAA,QAAA;AACA,OAAAC,KAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,MAAA;MACAC,iBAAA;MACAC,KAAA,GACA;QAAAC,IAAA;QAAAC,IAAA;QAAAN,IAAA;QAAAO,KAAA;MAAA,GACA;QACAF,IAAA;QACAC,IAAA;QACAN,IAAA;QACAO,KAAA;MACA;IAEA;EACA;EACAC,QAAA;IACA,GAAAV,QAAA;EACA;EACAW,QAAA;IACA,IAAAC,YAAA,CAAAC,OAAA;MACA,KAAAC,MAAA,CAAAC,KAAA,CAAAC,eAAA;IACA;MACA,KAAAF,MAAA,CAAAC,KAAA,CAAAC,eAAA;IACA;EACA;EACAC,OAAA;IACAC,YAAA;MACA,KAAAd,MAAA,SAAAA,MAAA;IACA;IACAe,OAAA;MACAC,OAAA,CAAAC,GAAA,eAAAT,YAAA,CAAAC,OAAA;MACA,IAAAS,KAAA,GAAAV,YAAA,CAAAC,OAAA;MACA,MAAAU,MAAA,GAAAD,KAAA,CAAAC,MAAA;MACAH,OAAA,CAAAC,GAAA,aAAAC,KAAA,kBAAAC,MAAA;MACAD,KAAA,GAAAA,KAAA,CAAAE,MAAA,IAAAD,MAAA;MACAH,OAAA,CAAAC,GAAA,aAAAC,KAAA,kBAAAA,KAAA,CAAAC,MAAA;MACAtB,KAAA,CAAAwB,IAAA,wCAAAH,KAAA,EAAAI,IAAA;QACAC,KAAA;QACAf,YAAA,CAAAgB,UAAA;QACA,KAAAd,MAAA,CAAAC,KAAA,CAAAC,eAAA;MACA;IACA;IACAa,OAAA;MACA,IAAAP,KAAA,GAAAV,YAAA,CAAAC,OAAA;MACA,MAAAU,MAAA,GAAAD,KAAA,CAAAC,MAAA;MACAH,OAAA,CAAAC,GAAA,aAAAC,KAAA,kBAAAC,MAAA;MACAD,KAAA,GAAAA,KAAA,CAAAE,MAAA,IAAAD,MAAA;MACAH,OAAA,CAAAC,GAAA,aAAAC,KAAA;MACArB,KAAA,CAAAwB,IAAA,wCAAAH,KAAA,EAAAI,IAAA;QACAC,KAAA;QACAf,YAAA,CAAAgB,UAAA;QACA,KAAAd,MAAA,CAAAC,KAAA,CAAAC,eAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}